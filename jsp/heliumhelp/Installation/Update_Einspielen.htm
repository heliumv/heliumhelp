<html>

<head>
<meta http-equiv="Content-Language" content="de">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<link rel="stylesheet" type="text/css" href="../css/main.css">
<title>Update_Einspielen</title>
</head>

<body>

<h1>Einspielen HELIUM V Update</h1>
<p STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0" class="answer">Üblicherweise
werden Updates Ihrer HELIUM V Installation von unseren Support-Team per
Fernwartung eingespielt. Sollte es z.B. aus Gründen einer fehlenden Fernwartung
nicht möglich sein, können Sie von uns eine kostenpflichtige Update-CD
anfordern oder alternativ die aktuelle Version von unserem öffentlichen FTP
Server herunter laden.<br>
Bitte beachten Sie, dass das Herunterladen nur für Anwender mit gültigem
Wartungsvertrag zur Verfügung steht. Es werden alle Zugriffe auf diesen FTP
Server protokolliert. Sollte Sie Updates ohne Wartungsvertrag herunterladen,
gehen wir davon aus, dass Sie Ihren Wartungsvertrag verlängern wollen. Der sich
seit dem letzten Wartungszeitraum ergebende Nachzahlungsbetrag wird
nachverrechnet.</p>
<p STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0" class="answer">&nbsp;</p>
<p STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0" class="answer">Als
aller ersten Schritt lesen Sie bitte diese Beschreibung vollständig durch und
stellen Sie sicher, dass alle Voraussetzungen erfüllt sind und Sie auch in der
Lage sind die notwendigen Schritte durchzuführen.</p>
<p STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0" class="answer">Wir gehen hier davon aus,
dass Sie mit der Administration derartiger Systeme vertraut sind.</p>
<p STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0" class="answer">&nbsp;</p>
<p STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0" class="answer">Zum
Einspielen des Updates wird grundsätzlich wie folgt vorgegangen:</p>
<ol>
  <li>Prüfen der Verwendbarkeit der übermittelten CD / Daten</li>
  <li>Beenden der Verwendung von HELIUM V</li>
  <li>Stoppen des HELIUM V Dienstes</li>
  <li>Sichern der Datenbank und der Installation</li>
  <li>Update der Datenbank</li>
  <li>Zur Verfügung-Stellung des Clients für das automatische Clientupdate</li>
  <li>Update des Applikation Servers</li>
  <li>Zur Verfügung-Stellung des Client-Updates für die User</li>
  <li>Start des Applikation Servers (Log prüfen)</li>
  <li>Update des Clients am Server</li>
  <li>Start des Clients und Durchführung einfacher Tests</li>
</ol>
<p STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0" class="answer"><b>Vorgehensweise
bei Verwendung von Microsoft Betriebssystemen (Windows 2000, Windows XP, Windows
2003).</b></p>
<ul>
  <li>
    <p STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0" class="answer">Voraussetzung
    für die Installation.
    <ul>
      <li>
        <p STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0" class="answer">Administratorrechte auf dem Server</li>
      <li>
        <p STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0" class="answer">Liste
    der Pfade zu HELIUM V.<br>
        HELIUM V wird üblicherweise auf einem Datenvolume (z.B. D:\) installiert.
    Hier finden Sie ein Unterverzeichnis Helium_V. In einigen älteren
    Installationen sind Daten und Verzeichnis des Applikationservers getrennt.
    D.h. hier finden Sie zusätzlich, meistens auf C:\ ein Verzeichnis jboss-4.2.2.GA.</li>
      <li>
        <p STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0" class="answer">Backup
    der bestehenden Installation.<br>
    Dies wird von uns üblicherweise im Helium_V Pfad unter Backup abgelegt. Es
    wird hier für jedes Backup ein entsprechendes Datum erstellt und dorthin
    die Dateien kopiert.</li>
      <li>
        <p STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0" class="answer">Führen
        Sie ein Update nur dann durch, wenn Sie, für den Fall des Falles, auch
        das Backup wieder einspielen können.</li>
    </ul>
  </li>
</ul>
<ol>
  <li>Prüfen der Verwendbarkeit der übermittelten CD<br>
    Stellen Sie sicher, dass Sie alle Daten der CD lesen können. Sie finden die
    Daten auf der CD auf einem Unterverzeichnis in welchem das Deploy-Datum und
    die Versionsnummer ersichtlich ist. Z.B. deploy08_06_18_3918. D.h. die
    Version ist vom 18.Juni 2008 und hat die Build Nummer 3918.<br>
    Kopieren Sie am Besten dieses Verzeichnis in das HELIUM V Verzeichnis unter
    Update.<br>
  </li>
  <li>Beenden der Verwendung von HELIUM V<br>
    Sorgen Sie dafür, dass alle HELIUM V Benutzer die Arbeit mit HELIUM V
    beendet haben und sich auch von HELIUM V abgemeldet haben. Sie können unter
    System, unterer Modulreiter gesperrt, oberer Modulreiter Logged In
    nachsehen, wer noch angemeldet ist. Hinweis: Der Benutzer lpwebappzemecs
    meldet sich nie ab und braucht daher auch nicht berücksichtigt werden.<br>
  </li>
  <li>Stoppen des HELIUM V Dienstes<br>
    Stoppen Sie nun den HELIUM V Dienst, in der Diensteverwaltung (Start,
    Einstellungen, Systemsteuerung, Verwaltung, Dienste). Wählen Sie <img border="0" src="Update_HV_Stopp.gif" width="156" height="19">&nbsp;
    und stoppen Sie den Dienst <img border="0" src="Update_HV_Stopp_Knopf.gif" width="19" height="15">.<br>
  </li>
  <li>Sichern der Datenbank und der Installation<br>
    Starten Sie nun den mitgelieferten DdbaMgr2k&nbsp;<img border="0" src="Update_DbaMgr2k.gif" width="41" height="40">,
    Doppelklick auf SQL-Server und Klick auf Connect.<br>
    Nun erweitern Sie den Baum Databases und klicken auf die Datenbank LP. Nun
    klicken Sie mit der rechten Maus erneut auf die Datenbank LP und wählen
    Backup Database.<br>
    Unter BackUp stellen Sie auf Database - complete. Ist bei Destination
    bereits ein entsprechender Pfad angegeben so notieren Sie diesen bitte,
    anderenfalls wählen Sie Add und geben Sie Sicherungspfad und Filename an.<br>
    <img border="0" src="Update_Sichern_Fileauswahl.jpg" width="390" height="166"><br>
    <br>
    Mit OK starten Sie die Sicherung. Nach beendeter Datensicherung erscheint<br>
    <img border="0" src="Update_Sichern_Erfolgreich.jpg" width="795" height="119"><br>
    <br>
    Bitte achten Sie auf ERFOLGREICH verarbeitet. Bestätigen Sie die Meldung
    mit OK.<br>
    Schließen Sie den Sicherungsdialog mit Close und beenden Sie den DbaMgr2k.<br>
    Kopieren / Zippen Sie die Sicherungsdatei und legen Sie sie im Helium_V
    Backupverzeichnis ab.<br>
    <br>
    Kopieren Sie nun das Verzeichnis \Helium_V\jboss-4.2.2.GA\server\helium in
    das HELIUM V Backupverzeichnis.<br>
  </li>
  <li>Update der Datenbank<br>
    Starten Sie nun aus dem Deploy-Verzeichnis aus dem Unterverzeichnis full\lpdbupd
    (d:\HeliumV\Update\deploy08_06_18_3918\full\lpdbupd) das lpdbupd.jar und
    damit den Helium V Datenbank Updatemanager.<br>
    Unter DB wählen Sie <img border="0" src="Update_DB_Einstellen.gif" width="431" height="37">.&nbsp;<br>
    Nun klicken Sie auf <img border="0" src="Update_DB_Version_Lesen.gif" width="117" height="33">. Es
    muss nun die aktuelle Datenbank Version im rechten Fenster angezeigt werden.
    Z.B. <img border="0" src="Update_DB_Versionsanzeige.gif" width="243" height="279"> bedeutet, dass zur
    angegebenen Datenbank eine Verbindung aufgebaut werden konnte.<br>
    <br>
    Erscheint hier<br>
    <img border="0" src="Update_DB_failed.gif" width="204" height="37"> so konnte keine Verbindung zur
    Datenbank hergestellt werden. Bitte wenden Sie sich an Ihren HELIUM V
    Betreuer.<br>
    <br>
    Konnte die Verbindung zur Datenbank aufgebaut werden, so klicken Sie bitte
    auf <img border="0" src="Update_DB_Update_Start.gif" width="195" height="34"><br>
    Es werden nun die erforderlichen Datenbank Updates der Reihe nach
    ausgeführt. Dies wird im Ausgabefenster wie folgt angezeigt. <img border="0" src="Update_DB_Update_erfolgreich.gif" width="193" height="138"><br>
    Damit ist das Datenbankupdate erfolgreich durchgeführt.<br>
    <br>
    <b>WICHTIG WICHTIG WICHTIG<br>
    </b>Werden hier Hinweise angezeigt, so müssen diese in jedem Fall beachtet
    werden.<br>
  </li>
  <li>Zur Verfügung-Stellung des Clients für das automatische Clientupdate.<br>
    Um das Client-Installationsprogramm für das halbautomatische Clientupdate
    zur Verfügung zu stellen muss dieses in die Datenbank übertragen werden.
    Klicken Sie daher auf <img border="0" src="Update_Client1.gif" width="73" height="33"> und geben
    Sie das lpclientpc-installer.jar aus dem Verzeichnis ...deploy...\full\client\installer
    an. Tragen Sie nun die Build Nummer, diese finden Sie in der Titelleiste des
    Updatemanagers rechts <img border="0" src="Update_Client2.gif" width="67" height="20">, in die
    Zeile BuildNr <img border="0" src="Update_Client3.gif" width="80" height="26"> ein und klicken Sie
    nun auf <img border="0" src="Update_Client4.gif" width="49" height="31">. Damit wird das aktuelle
    Client-Installationsprogramm in die Datenbank übernommen.<br>
    Beachten Sie bitte dass dieses Verfahren nur für Windows-PCs zur Verfügung
    steht. Für MAC und Linux Rechner wird bei einem entsprechenden
    Build-Eintrag in der Datenbank ein passender Hinweis zur Aktualisierung des
    Clients angezeigt.<br>
  </li>
  <li>Update des Applikation Servers<br>
    <b>Hinweis: </b>Bei größeren Umstellungen muss die Änderung des
    Applikationsservers von einer entsprechend geschulten Person durchgeführt
    werden. Diese Beschreibung ist nur für einfache Updates gedacht.<br>
    Öffnen Sie die Datei&nbsp; ...\jboss-4.2.2.GA\server\helium\deploy\lpserver.ear&nbsp;
    .z.B. mittels Totalcommander und Drücken von Strg+Bild_ab. Nun sehen Sie
    die Dateien in dieser Datei. Gehen Sie auf ejb.jar und öffnen Sie diese
    durch erneutes Drücken von Strg+Bild_ab. Nun wurde die Jar-Datei entzippt.&nbsp;<br>
    Sie finden nun die Datei fastlanereader-service.xml.<br>
    <img border="0" src="Update1.gif" width="398" height="102"><br>
    Sichern Sie diese Datei.<br>
    Verlassen Sie die entzippte Datei durch zweimal Doppelklick auf den
    Verzeichniswechsel (..).<br>
    <br>
    Öffnen Sie nun die neue Server-Datei aus ....deploy...\full\server\deploy\lpserver.ear.
    Gehen Sie wiederum in ejb.jar und kopieren Sie die oben gesicherte Datei
    fastlanereader-service.xml über die bestehende. Es wird dadurch der
    Serverzugriff auf MSSQL Datenbank umgestellt. Verlassen Sie die entzippte
    Datei, bestätigen Sie dass die Änderungen zurückgeschrieben werden. Nun
    kann die angepasste Server-Datei in das eigentliche Verzeichnis nach ...\jboss-4.2.2.GA\server\helium\deploy\
    kopiert werden.<br>
    Entzippen Sie die Datei ...deploy...\full\report\report.zip und kopieren Sie
    die unter ALL angeführten Unterverzeichnisse nach ...\jboss-4.2.2.GA\server\helium\report\<br>
    Löschen Sie die Unterverzeichnisse ...\jboss-4.2.2.GA\server\helium\log,
    sowie ..\data, ..\jackrabitt, ..\tmp und ..\work<br>
  </li>
  <li>Zur Verfügung-Stellung des Client-Updates für die User<br>
    Für die Installation eventueller neuer Rechner kopieren Sie die Datei ...deploy...\full\client\installer\lpclientpc-installer.jar
    in das allgemeine Helium V Client Install-Verzeichnis.<br>
  </li>
  <li>Start des Applikation Servers (Log prüfen)<br>
    Starten Sie nun den Helium V Applikationserver durch Klick auf Start <img border="0" src="Update_Start.gif" width="17" height="16">
    in den Diensten.<br>
    Beobachten Sie bitte das Server.log. Sie finden diese unter ...\jboss-4.2.2.GA\server\helium\log. Nach ca. 1-2 Minuten sollte diese
    Datei, wenn nicht in der Zwischenzeit schon Zugriffe von
    Zeiterfassungsstationen erfolgt sind, eine Größe von ca. 4000 Byte
    haben. Wird diese Datei sehr schnell sehr viel größer, so konnte der
    Applikationserver nicht ordnungsgemäß gestartet werden. Versuchen Sie
    bitte den gesamten Server neu zu starten. Bringt auch dies keine besseren
    Ergebnisse, so wenden Sie sich bitte an Ihren HELIUM V Betreuer.<br>
  </li>
  <li>Update des Clients am Server<br>
    Starten sie den bestehenden alten Client am Server. Es muss der automatische
    Clientupdate Dialog kommen. Falls dies nicht möglich ist und Sie sicher
    sind, dass unter 6. alles richtig gemacht wurde, so führen Sie bitte die Aktualisierung des am Server befindlichen Clients mit
    der unter 8.) beschriebenen Datei durch.<br>
  </li>
  <li>Start des Clients und Durchführung einfacher Tests<br>
    Starten Sie den aktualisierten Client, rufen Sie jedes Modul einmal auf und
    führen Sie einen Ausdruck aus einigen der Module durch.<br>
    <br>
    Damit ist das Update abgeschlossen. Bitte informieren Sie uns unbedingt
    über das durchgeführte Update, damit unser Hotline Service die richtigen
    Informationen für die Betreuung zur Verfügung hat.</li>
</ol>
<p class="answer" STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0"><b>Hinweis:<br>
</b>Beim Update werden keine anwenderspezifischen Formular geändert,
wenn diese wie vereinbart in den anwender Unterverzeichnissen sind. Sollte es
beim Ausdruck von speziell für Sie angepassten Formularen zu Problemen kommen,
so stellen Sie bitte zuerst fest, ob die Ursache in Ihren Formularen zu finden
ist. Benennen Sie dazu bitte das jeweilige anwender Verzeichnis um. Damit wird
erreicht, dass die Standard Formulare verwendet werden. Funktioniert nun der
Ausdruck, so wurden größere Änderungen in der Report-Schnittstelle
durchgeführt. Bitte wenden Sie sich unter Angabe des Namens der Reportvorlage
an Ihren HELIUM V Betreuer.</p>
<p class="answer" STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0">&nbsp;</p>
<p class="answer" STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0"><b>Hinweis
zum FTP Download</b></p>
<p class="answer" STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0">Verwenden
Sie für den FTP Download am Besten den Totalcommander (zu finden auf der
Original HELIUM V CD unter Tools Totalcmd). Stellen Sie hier unter Netz, Neue
Verbindung die entsprechenden Zugangsdaten ein.</p>
<p class="answer" STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0">Sollte
der Totalcommander nicht zur Verfügung stehen, so achten Sie bitte auf passiven
Transfermodus Ihres FTP Browsers.</p>
<p STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0" class="question"><b>Vorgehensweise
bei Verwendung von Linux/Mac Betriebssystemen</b></p>
<p STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0" class="answer">Diese
ist der oben beschriebenen Vorgehensweise sehr ähnlich. Da hier zusätzlich
entsprechende Linux/Mac-Kenntnisse vorausgesetzt werden, wird das Update von
Ihrem HELIUM V Betreuer durchgeführt.
<p STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0" class="question"><b><a name="Update von Betriebssystem und Datenbankversionen"></a>Update
von Betriebssystem und Datenbank-Versionen</b></p>

<p class="answer" STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0"><b>WICHTIG:</b></p>

<p class="answer" STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0">Führen
Sie auf keinen Fall Updates von Linux und vor allem der Postgres-Versionen ohne
vorheriger Rücksprache mit uns durch. Hier geht es darum, dass auf unserer
Seite getesteter Weise Werkzeuge (Programme) vorhanden sein müssen, mit denen
vor allem die Datenbank auch wieder aus Ihren Backupdaten neu eingespielt werden
können muss.</p>

<p class="answer" STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0">Ist
uns ein Update von Ihrer Seite nicht bekannt, so könnte sein, dass wir bei
fehlerhaften Rücksicherungsversuchen davon ausgehen, dass der Datenbestand
defekt ist, obwohl &quot;nur&quot; die Version aktualisiert wurde.</p>

<p class="answer" STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0"><b>Wir
bitten um dringende Beachtung.</b></p>

<p class="answer" STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0">&nbsp;</p>

<p class="answer" STYLE="text-indent: 0; word-spacing: 0; line-height: 100%; margin: 0">Oben
gesagtes gilt analog auch für alle anderen Datenbanken und Betriebssysteme.</p>

</body>

</html>
